{% load static %}
<header id="header" class="header">
    <div class="kbin-container">
        <nav class="head-nav">
            <div class="brand">
                <a href="/"><img id="logo" src="{% static '/svg/kbin_logo.svg' %}" alt="Homepage" title="Homepage"></a>
            </div>
            <menu class="head-nav__menu">
                <li></li>
                <li><a href="/" class="active">Threads</a></li>
                <li><a href="/photos" class="">Photos</a></li>
                <li><a href="/microblog" class="">Microblog</a></li>
                <li><a href="/*" class="">All Content</a></li>
                <li><a href="/people" class="">People</a></li>
                <li><a href="/magazines" class="">Magazines</a></li>
                <li><a href="/magazines/collections" class="">Collections</a></li>
            </menu>
        </nav>

        <menu>
            <li>
                <a href="/cerca" class="icon" aria-label="Search" title="Search">
                    <i class="fa-solid fa-magnifying-glass"></i> Search
                </a>
            </li>
            {% if user.user.is_authenticated %}
                <li class="dropdown"><a href="/new" class="icon" aria-label="Add" title="Add"><i
                        class="fa-solid fa-plus"></i> Add</a>
                    <ul class="dropdown__menu">
                        <li><a href="/new" class="">Add new link</a></li>
                        <li><a href="/new/thread" class="">Add new thread</a></li>
                        <li><a href="/new/photo" class="">Add new photo</a></li>
                        <li><a class="" href="/microblog">Add new post</a></li>
                        <li><a class="" href="/newMagazine">Create new magazine</a></li>
                    </ul>
                </li>
                <li class="dropdown"><a class=" login" href="/u/{{ user.username }}"><span
                        class="user-name">{{ user.username }}</span></a>
                    <ul class="dropdown__menu">
                        <li><a href="/u/{{ user.username }}" class="">Profile</a></li>
                        <li><a href="/settings/general" class="">Setting</a></li>
                        <li><a href="/profile/messages" class="">Messages</a></li>
                        <li><a href="/settings/notifications" class="">Notifications</a></li>
                        <li><a href="/logout">Sing off</a></li>
                    </ul>
                </li>
            <!-- No s'ha iniciat la sessió -->
            <!-- TODO: millorar format -->
            {% else %}
                {% load socialaccount %}
                <li class="dropdown"><a href="/new" class="icon" aria-label="Add" title="Add"><i
                        class="fa-solid fa-plus"></i> Add</a>
                    <ul class="dropdown__menu">
                        <li>
                            <form action="{% provider_login_url 'google' %}" method="post" class="">
                                {% csrf_token %}
                                <button type="submit">Add new link</button>
                            </form>
                        </li>
                        <li>
                            <form action="{% provider_login_url 'google' %}" method="post" class="">
                                {% csrf_token %}
                                <button type="submit">Add new thread</button>
                            </form>
                        </li>
                        <li>
                            <form action="{% provider_login_url 'google' %}" method="post" class="">
                                {% csrf_token %}
                                <button type="submit">Add new photo</button>
                            </form>
                        </li>
                        <!-- Amb la sessió no iniciada es pot accedir, però no es pot crear un microblog -->
                        <li><a class="" href="/microblog">Add new post</a></li>
                        <li>
                            <form action="{% provider_login_url 'google' %}" method="post" class="">
                                {% csrf_token %}
                                <button type="submit">Create new magazine</button>
                            </form>
                        </li>
                    </ul>
                </li>
                <form action="{% provider_login_url 'google' %}" method="post">
                    {% csrf_token %}
                    <button type="submit">Log in</button>
                </form>

            {% endif %}
        </menu>
    </div>
</header>